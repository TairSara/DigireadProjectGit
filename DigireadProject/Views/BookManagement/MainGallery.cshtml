<style>
    .container.body-content {
        max-width: 1200px !important;
    }

    .carousel-container {
        position: relative;
        width: 100%;
        max-width: 1000px;
        margin: 50 px ;
        padding: 0 60px;
    }

    .genres-grid {
        display: flex;
        flex-wrap: nowrap;
        gap: 100px; /* Reduced gap to fit more items */
        overflow-x: hidden;
        scroll-behavior: smooth;
        padding: 20px 10px;
        margin: 0 auto;
        justify-content: flex-start;
        -webkit-overflow-scrolling: touch;
    }

    .genre-container {
        flex: 0 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100px; /* Reduced to better fit the circles */
        text-decoration: none;
        margin: 0 5px;
    }

    .genre-title {
        color: #333;
        font-size: 14px; /* Reduced font size */
        font-weight: bold;
        margin-bottom: 6px;
        text-align: center;
        white-space: nowrap; /* Prevent text wrapping */
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
    }

    .genre-card {
        position: relative;
        width: 200px; /* Set to 70px */
        height: 200px; /* Set to 70px */
        border-radius: 50%;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease;
    }

        .genre-card:hover {
            transform: scale(1.05);
        }

    .genre-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .genre-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 218, 185, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 50%;
    }

    .genre-card:hover .genre-overlay {
        opacity: 1;
    }

    .carousel-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 35px; /* Slightly smaller buttons */
        height: 35px; /* Slightly smaller buttons */
        background: white;
        border: 1px solid #ddd;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        z-index: 2;
    }

    .carousel-button-left {
        left: 10px;
    }

    .carousel-button-right {
        right: 10px;
    }

    .carousel-button:hover {
        background-color: #f0f0f0;
    }
</style>

<div class="text-center">
    <h2 class="mb-4">קטגוריות ספרים</h2>
    <div class="carousel-container">
        <button class="carousel-button carousel-button-left" onclick="scrollCarousel('left')">❮</button>
        <button class="carousel-button carousel-button-right" onclick="scrollCarousel('right')">❯</button>
        <div class="genres-grid" id="genresCarousel">
            @foreach (var genre in Model)
            {
                <a href="@Url.Action("GenreBooks", "BookManagement", new { genre = genre })" class="genre-container">
                    <h3 class="genre-title">@genre</h3>
                    <div class="genre-card">
                        <img src="/Content/@(genre).gif" alt="@genre" class="genre-image">
                        <div class="genre-overlay"></div>
                    </div>
                </a>
            }
        </div>
    </div>
</div>

<script>
    function scrollCarousel(direction) {
        const carousel = document.getElementById('genresCarousel');
        const containerWidth = carousel.offsetWidth;
        const itemWidth = 90; // width + gap
        const visibleItems = Math.floor(containerWidth / itemWidth);
        const scrollAmount = visibleItems * itemWidth;

        const maxScroll = carousel.scrollWidth - carousel.offsetWidth;

        if (direction === 'left') {
            if (carousel.scrollLeft <= scrollAmount) {
                carousel.scrollLeft = 0;
            } else {
                carousel.scrollLeft -= scrollAmount;
            }
        } else {
            if (carousel.scrollLeft >= maxScroll - scrollAmount) {
                carousel.scrollLeft = maxScroll;
            } else {
                carousel.scrollLeft += scrollAmount;
            }
        }
    }

    document.addEventListener('DOMContentLoaded', function () {
        const carousel = document.getElementById('genresCarousel');
        carousel.scrollLeft = 0;
    });
</script>